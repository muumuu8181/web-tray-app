<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Tray App v1.02</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 100%;  /* é–‹ç™ºæ™‚ã¯ç”»é¢å¹…ã«åˆã‚ã›ã‚‹ */
            min-width: 900px; /* æœ€å°å¹…ã‚’ç¢ºä¿ */
            height: 800px;
            overflow: hidden;
            font-size: 14px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚‚å¤§ãã */
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .version {
            font-size: 10px;
            opacity: 0.8;
        }

        .tabs {
            display: flex;
            background: rgba(0, 0, 0, 0.2);
        }

        .tab {
            flex: 1;
            padding: 8px 4px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .tab:last-child {
            border-right: none;
        }

        .tab.active {
            background: rgba(255, 255, 255, 0.3);
            color: #fff;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .tab-content {
            display: none;
            padding: 10px 8px;
            height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .tab-content.active {
            display: block;
        }

        .section {
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #ffd700;
            border-bottom: 1px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 2px;
        }

        .button {
            width: 100%;
            padding: 8px 6px;
            margin-bottom: 6px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            color: white;
            font-size: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .button:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }

        .button:active {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(1px);
        }

        .button.clicked {
            background: rgba(0, 255, 0, 0.3) !important;
            border: 2px solid #00ff00 !important;
            animation: buttonSuccess 0.6s ease;
        }

        @keyframes buttonSuccess {
            0% { background: rgba(0, 255, 0, 0.8); }
            100% { background: rgba(255, 255, 255, 0.15); }
        }

        .quick-note {
            width: 100%;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            color: white;
            font-size: 10px;
            padding: 6px;
            resize: none;
            font-family: inherit;
        }

        .quick-note::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .yarakashi-item {
            background: rgba(255, 0, 0, 0.1);
            border-left: 3px solid #ff6b6b;
            padding: 6px;
            margin-bottom: 6px;
            border-radius: 0 4px 4px 0;
            font-size: 9px;
            cursor: pointer;
        }

        .yarakashi-item:hover {
            background: rgba(255, 0, 0, 0.2);
        }

        .yarakashi-date {
            color: #ff9999;
            font-size: 8px;
            margin-bottom: 2px;
        }

        .scrollbar {
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
        }

        .scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div>Claude Code Helper</div>
        <div class="version">v1.02</div>
    </div>

    <div class="tabs">
        <div class="tab active" onclick="switchTab('claude-tab')">Claude</div>
        <div class="tab" onclick="switchTab('yarakashi-tab')">ã‚„ã‚‰ã‹ã—</div>
    </div>

    <!-- Claude Code Tab -->
    <div id="claude-tab" class="tab-content active scrollbar">
        <div class="section">
            <div class="section-title">ğŸ“ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</div>
            <button class="button" onclick="copyToClipboard('debug-prompt')">ãƒ‡ãƒãƒƒã‚°åˆ†æ</button>
            <button class="button" onclick="copyToClipboard('refactor-prompt')">ãƒªãƒ•ã‚¡ã‚¯ã‚¿</button>
            <button class="button" onclick="copyToClipboard('explain-prompt')">ã‚³ãƒ¼ãƒ‰èª¬æ˜</button>
            <button class="button" onclick="copyToClipboard('test-prompt')">ãƒ†ã‚¹ãƒˆä½œæˆ</button>
        </div>

        <div class="section">
            <div class="section-title">âš¡ ã‚¯ã‚¤ãƒƒã‚¯</div>
            <button class="button" onclick="quickAction('todo')">TODOè¿½åŠ </button>
            <button class="button" onclick="quickAction('commit')">ã‚³ãƒŸãƒƒãƒˆ</button>
            <button class="button" onclick="quickAction('status')">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</button>
            <button class="button" onclick="quickAction('diff')">å·®åˆ†ç¢ºèª</button>
        </div>

        <div class="section">
            <div class="section-title">ğŸ“‹ ãƒ¡ãƒ¢</div>
            <textarea class="quick-note scrollbar" placeholder="ã‚¯ã‚¤ãƒƒã‚¯ãƒ¡ãƒ¢..."></textarea>
        </div>
    </div>

    <!-- ã‚„ã‚‰ã‹ã—ãƒªã‚¹ãƒˆ Tab -->
    <div id="yarakashi-tab" class="tab-content scrollbar">
        <div class="section">
            <div class="section-title">âš ï¸ ã‚„ã‚‰ã‹ã—ãƒªã‚¹ãƒˆ</div>
            <button class="button" onclick="addYarakashi()">æ–°è¦è¿½åŠ </button>
            <div id="yarakashi-list">
                <div class="yarakashi-item" onclick="editYarakashi(0)">
                    <div class="yarakashi-date">2025-08-23</div>
                    <div>TkinteråˆæœŸåŒ–é †åºå•é¡Œ</div>
                </div>
                <div class="yarakashi-item" onclick="editYarakashi(1)">
                    <div class="yarakashi-date">2025-08-22</div>
                    <div>ã‚·ã‚¹ãƒ†ãƒ ãƒˆãƒ¬ã‚¤å®Ÿè£…ã§ã‚¹ãƒ¬ãƒƒãƒ‰ç«¶åˆ</div>
                </div>
                <div class="yarakashi-item" onclick="editYarakashi(2)">
                    <div class="yarakashi-date">2025-08-21</div>
                    <div>æ®µéšçš„å®Ÿè£…ã‚’æ€ ã£ãŸ</div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ’¡ å¯¾ç­–ãƒ¡ãƒ¢</div>
            <textarea class="quick-note scrollbar" placeholder="å¯¾ç­–ãƒ»å­¦ç¿’å†…å®¹..."></textarea>
        </div>
    </div>

    <script>
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function switchTab(tabId) {
            // å…¨ã¦ã®ã‚¿ãƒ–ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
        const prompts = {
            'debug-prompt': 'ã“ã®ã‚¨ãƒ©ãƒ¼ã‚’åˆ†æã—ã¦è§£æ±ºæ–¹æ³•ã‚’ææ¡ˆã—ã¦ãã ã•ã„ï¼š\n\n',
            'refactor-prompt': 'ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã€å¯èª­æ€§ã¨ä¿å®ˆæ€§ã‚’å‘ä¸Šã•ã›ã¦ãã ã•ã„ï¼š\n\n',
            'explain-prompt': 'ã“ã®ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œã‚’è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„ï¼š\n\n',
            'test-prompt': 'ã“ã®é–¢æ•°ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š\n\n'
        };

        // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
        function copyToClipboard(promptType) {
            const text = prompts[promptType];
            
            // ãƒœã‚¿ãƒ³ã«ã‚¯ãƒªãƒƒã‚¯åŠ¹æœã‚’è¿½åŠ 
            const button = event.target;
            button.classList.add('clicked');
            setTimeout(() => button.classList.remove('clicked'), 600);
            
            try {
                // Electronç’°å¢ƒã§ã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰æ“ä½œ
                const { clipboard } = window.require('electron');
                clipboard.writeText(text);
                showNotification('âœ… ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ: ' + promptType);
                console.log('âœ… Copied to clipboard:', promptType, 'Text:', text.substring(0, 50) + '...');
            } catch (error) {
                console.error('âŒ Clipboard error:', error);
                showNotification('âŒ ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
                
                // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: navigator.clipboard
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(() => {
                        showNotification('âœ… ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ (fallback): ' + promptType);
                    }).catch(() => {
                        showNotification('âŒ ã‚³ãƒ”ãƒ¼ã«å®Œå…¨ã«å¤±æ•—ã—ã¾ã—ãŸ');
                    });
                }
            }
        }

        // ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
        function quickAction(action) {
            const actions = {
                'todo': 'TODO: ',
                'commit': 'git commit -m ""',
                'status': 'git status',
                'diff': 'git diff'
            };
            
            // ãƒœã‚¿ãƒ³ã«ã‚¯ãƒªãƒƒã‚¯åŠ¹æœã‚’è¿½åŠ 
            const button = event.target;
            button.classList.add('clicked');
            setTimeout(() => button.classList.remove('clicked'), 600);
            
            try {
                const { clipboard } = window.require('electron');
                clipboard.writeText(actions[action]);
                showNotification('âœ… ' + action + ' ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                console.log('âœ… Quick action copied:', action, 'Command:', actions[action]);
            } catch (error) {
                console.error('âŒ Quick action error:', error);
                showNotification('âŒ ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
                
                // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: navigator.clipboard
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(actions[action]).then(() => {
                        showNotification('âœ… ' + action + ' ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ (fallback)');
                    }).catch(() => {
                        showNotification('âŒ ã‚³ãƒ”ãƒ¼ã«å®Œå…¨ã«å¤±æ•—ã—ã¾ã—ãŸ');
                    });
                }
            }
        }

        // ã‚„ã‚‰ã‹ã—è¿½åŠ 
        function addYarakashi() {
            const title = prompt('ã‚„ã‚‰ã‹ã—å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
            if (title) {
                const today = new Date().toISOString().split('T')[0];
                const listElement = document.getElementById('yarakashi-list');
                const newItem = document.createElement('div');
                newItem.className = 'yarakashi-item';
                newItem.innerHTML = '<div class="yarakashi-date">' + today + '</div><div>' + title + '</div>';
                listElement.insertBefore(newItem, listElement.firstChild);
            }
        }

        // ã‚„ã‚‰ã‹ã—ç·¨é›†
        function editYarakashi(index) {
            alert('ã‚„ã‚‰ã‹ã—è©³ç´°ç·¨é›†æ©Ÿèƒ½ï¼ˆä»Šå¾Œå®Ÿè£…äºˆå®šï¼‰');
        }

        // é€šçŸ¥è¡¨ç¤º
        function showNotification(message) {
            console.log('ğŸ”” Notification:', message);
            
            // ç°¡æ˜“é€šçŸ¥ï¼ˆã‚ˆã‚Šè¦‹ã‚„ã™ãæ”¹è‰¯ï¼‰
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 15px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.9);
                color: white;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 11px;
                font-weight: bold;
                z-index: 1000;
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                animation: slideDown 0.3s ease;
            `;
            document.body.appendChild(notification);
            
            // é€šçŸ¥ã«ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ€ã‚¦ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideDown {
                    from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    to { opacity: 1; transform: translateX(-50%) translateY(0); }
                }
            `;
            document.head.appendChild(style);
            
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
                if (document.head.contains(style)) {
                    document.head.removeChild(style);
                }
            }, 3000);
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Claude Code Tray App loaded');
        });
    </script>
</body>
</html>